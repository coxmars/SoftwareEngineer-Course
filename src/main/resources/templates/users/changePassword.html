<!-- HTML -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- HEAD -->
<head th:include="/template_admin.html::head"></head>

<!-- BODY -->
<body style="background-color: #F8F8F8;">

	<!-- CONTAINER -->
	<div class="container">

		<!-- Outer Row -->
		<div class="row justify-content-center">

			<div class="col-xl-10 col-lg-12 col-md-9">

				<div class="card o-hidden border-0 shadow-lg my-5">
					<div class="card-body p-0">
						<!-- Nested Row within Card Body -->
						<div class="row">
							<a th:href="@{/welcome}" class="col-lg-6 d-none d-lg-block"><img
								style="background-position: center; background-size: cover;"
								src="./img/imgOlvPwd.webp" alt="imgOlvPwd"></a>
							<div class="col-lg-6">
								<div class="p-5">
									<div class="text-center">
										<h1 class="h4 text-gray-900 mb-2">Cambiar Contraseña</h1>
										<p class="mb-4">Para cambiar la contraseña, porfavor ingrese su contraseña actual</p>
									</div>
									<hr>
									<form class="user" th:action="@{/user/password/{id}(id=${#authentication.getPrincipal().getUser().getId()})}" 
									th:object="${user}"
										method="post">
										<label class="custom-control" for="customCheck">Contraseña actual</label>
										<div class="form-group">
											<input th:field="*{password}"   required autofocus type="password" name="password"
												class="form-control" id="InputPassword"
												aria-describedby="emailHelp"
												placeholder="     Ingrese su Contraseña Actual">
										</div>
										<button type="submit" value="Enviar"
											class="btn btn-primary btn-user btn-block text-uppercase">Enviar</button> 
										<div th:if="${error != null}">
											<p class="text-center text-danger">[[${error}]]</p>
										</div>

										<div
											class="alert alert-warning text-center text-uppercase mt-3"
											role="alert" th:if="${message != null}">
											<p class="m-0 text-uppercase">[[${message}]]</p>
										</div>
									</form>
									<hr>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

		</div>

	</div>

	<!-- SCRPIPTS -->
	<div th:include="/template_admin.html::scripts"></div>

</body>

</html>